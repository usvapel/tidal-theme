/* =========================================================
   Lunallena ðŸŒ• v4.15
   by Acercandr0
   ========================================================= */

/* =========================================================
   VARIABLES
   ========================================================= */

:root {

    /* Accent Color */
    --accent: rgb(216, 255, 144);
    --wave-color-solid-accent-fill: rgb(144, 255, 179);

    /* Background Colors */
    --bg-solid: rgb(0, 0, 0);
    --bgeneral: rgb(0, 0, 0);
    --bg-glass-light: rgba(50, 50, 50, 0.5);
    --bg-glass-dark: rgba(20, 20, 20, 0.3);
    --bg-glass-darker: rgba(0, 0, 0, 0.5);
    --bg-shortcut: rgba(255, 255, 255, 0.07);
    --bg-shortcut-hover: rgba(255, 255, 255, 0.15);
    --bg-button-hover: rgba(255, 255, 255, 0.12);

    /* Border */
    --border: 1px solid rgba(255, 255, 255, 0.06);
    
    /* Effects */
    --blur-glass: blur(35px) saturate(2.5);
    --blur: blur(17px) saturate(3);
    --blur-now-playing: blur(40px) saturate(2.5);
    --hover-inactive: grayscale(0%) opacity(50%);
    --hover-active: grayscale(0%) opacity(100%);
}

/* =========================================================
   GENERAL OVERRIDES
   ========================================================= */

* {
    text-decoration: none !important;
    scrollbar-width: none !important;
}

.os-scrollbar {
    display: none;
}

/* Font Override */
[class="wave-text-body-demi"] {
    font-size: 14px;
}

[class*="divider"] {
    display: none;
}

#spotlighted-badge {
    filter: none !important;
}

#spotlighted-badge * {
    fill: var(--wave-color-solid-accent-fill) !important;
}

/* Tidal Tags */
[class="format-info"] {
    font-size: 11px !important;
    max-width: 50px;
    padding: 7px;
    background: transparent;
}

/* =========================================================
   TEXT STYLES
   ========================================================= */

[class*="headerContainer"] > h2 {
    font-size: 30px !important;
    color: var(--accent);
}

[class*="heading"] {
    color: var(--accent);
}

h1 {
    font-size: 30px !important;
    color: var(--accent) !important;
}

[data-test="feed-counter"] {
    background-color: color-mix(in srgb, var(--accent), black 20%);
}

[data-test="artist-name"] {
    color: var(--accent);
    font-size: 60px;
    line-height: 70px !important;
}

[data-test="follow-text-button"] {
    margin-bottom: 15px;
}

[data-wave-color=textSecondary] {
    color: var(--accent);
}

[data-wave-color="textTertiary"] {
    color: var(--accent);
}

/* =========================================================
   LAYOUT & SPACING
   ========================================================= */

/* Window Maxed Space */

[class*="_bar_"] {
    border: none !important;
}

#main {
    height: 100svh;
    max-height: calc(100svh - var(--os-title-bar-height));
    margin-top: 0;
    min-width: 100vw;
    left: calc(var(--sidebarWidth) * -1);
    --playQueueWidth: 0px;
}

.mainContent {
    min-height: 100svh !important;
    width: 100vw;
    padding-bottom: var(--miniPlayerHeight);
}

[data-test="home-page-feed"] {
    margin-top: 20px;
}

[class*="feed"] {
    width: 100vw;
}

[class*="MuiContainer"] {
    transform: translateX(-7vw);
    margin-top: 90px;
    padding-bottom: 40px;
}

[class*="_sidebarWrapper_"] {
    top: 2vh;
    height: 76vh
}

[class*="_sectionHeader"] {
    position: relative;
    background-color: transparent;
}

/* =========================================================
   QUEUE SIDEBAR
   ========================================================= */
   
[class*="playQueueWrapper"] {
    height: 100svh;
    margin-left: calc(var(--playQueueWidth) * -1 - 480px);
}

#playQueueSidebar {
    background-color: var(--bg-glass-light) !important;
    backdrop-filter: var(--blur-glass);
}

[aria-label="Play queue"] > div:last-child {
    padding-bottom: 60px;
}

[class*="stickyHeader"] {
  background: transparent;
  position: relative;
}

[class*="stickyHeader"]::after{
  display: none;
}

/* =========================================================
   WINDOW & TITLE BAR
   ========================================================= */

[class*="_bar_"] {
    background: var(--bg-glass-dark) !important;
    backdrop-filter: var(--blur);
    border-bottom: var(--border) !important;
}

div[class^="_bar_"] > div[class^="_title_"] * {
    color: var(--wave-color-solid-accent-fill) !important;
}

div[class*="_bar_"] button[class*="_button_"] {
    background: transparent;
}

div[class*="_bar_"] button[class*="_button_"] svg {
    color: rgba(255, 255, 255, 0.3);
}

div[class*="_bar_"] button[class*="_button_"]:hover svg {
    color: rgba(255, 255, 255, 1);
}

/* =========================================================
   HEADERS
   ========================================================= */

/* Main Header */
#mainHeader {
    background-color: var(--bg-glass-light);
    backdrop-filter: var(--blur-glass);
    margin-top: -80px;
    width: 30vw;
    left: 50%;
    transform: translateX(-50%);
    border: var(--border);
    border-radius: 0 0 20px 20px;
    padding-top: 45px;
    padding-left: 20px;
    padding-right: 20px;
    transition: margin-top 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: visible;
    pointer-events: visible;
}

#mainHeader:hover {
    margin-top: -30px;
}

#mainHeader > * {
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

#mainHeader:hover > * {
    opacity: 1;
    pointer-events: auto;
}

/* Search Field */
[data-type="search-field"] {
    background-color: transparent;
    border: var(--border);
    box-shadow: none;
}

/* Navigation Arrows */
[data-test="navigation-arrows"] {
    display: flex;
    gap: 8px;
    margin: 0;
}

[data-test="navigation-arrows"] button {
    background-color: rgba(0, 0, 0, 0.1) !important;
    background-image: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    transition: background-color 0.2s ease;
}

[data-test="navigation-arrows"] button::before,
[data-test="navigation-arrows"] button::after {
    display: none !important;
}

[data-test="navigation-arrows"] button:hover:not(:disabled) {
    background-color: rgba(0, 0, 0, 0.3) !important;
}

[data-test="navigation-arrows"] button:disabled {
    background-color: transparent;
}

/* Small Header */
[class^="_smallHeader_"] {
    background: none !important;
    margin-top: -40px;
}

div[class^="_smallHeader_"]::before {
    background-color: var(--bg-glass-light);
    backdrop-filter: var(--blur-glass);
    left: 0;
    right: 0;
    width: 100vw;
    margin-top: -40px;
}

/* Contributor Header */
div[data-test-module-type="CONTRIBUTOR_HEADER"] header[class*="container"] {
    background-color: var(--bg-glass-light);
    backdrop-filter: var(--blur-glass);
    border-bottom: var(--border);
    left: 0;
    padding-left: 120px;
    padding-right: 5%;
    height: 140px;
}

/* Album Header */
[class*="dataContainer"]::before {
    height: 100% !important;
}

/* =========================================================
   NAVIGATION SIDEBAR
   ========================================================= */

[class*="_sidebarWrapper_"]::after {
    display: none;
}

[class*="_sidebarWrapper_"][style="width: 240px;"] {
    left: -217px;
}

[class*="_sidebarWrapper_"] {
    border-radius: 0 20px 20px 0;
    left: -47px;
    border: var(--border);
    border-left: none;
    background-color: var(--bg-glass-light);
    backdrop-filter: var(--blur-glass);
    transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

[class*="_sidebarWrapper_"]:hover {
    left: 0px;
}

[class*="_sidebarWrapper_"] > * {
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

[class*="_sidebarWrapper_"]:hover > * {
    opacity: 1;
    pointer-events: auto;
}

[aria-label="Navigation sidebar"] {
    background-color: transparent;
}

/* Focus Hover Effect */
[aria-label="Playlists"] [class*="_contentItem_"] {
    transition: filter 0.4s ease-in-out, transform 0.3s ease;
}

[aria-label="Playlists"]:hover [class*="_contentItem_"] {
    filter: var(--hover-inactive) !important;
}

[aria-label="Playlists"] [class*="_contentItem_"]:hover,
[aria-label="Playlists"] [class*="_selected_"] {
    filter: var(--hover-active) !important;
    transform: scale(1.03);
}

/* Sidebar Navlinks */
[class*="_navLinkInnerLayout_"] {
    background-color: transparent;
    transition: background-color 0.4s ease, transform 0.4s ease;
}

[class*="_navLinkInnerLayout_"]:hover {
    background-color: var(--bg-glass-dark);
    transform: scale(1.03);
}

[class*="_expandableSectionTitle_"] {
    transition: transform 0.4s ease;
}

[class*="_expandableSectionTitle_"]:hover {
    transform: scale(1.03);
}

/* Sidebar Buttons */
[data-test="user-profile-avatar"] {
    background-color: transparent;
    border: var(--border);
}

[class*="_addButton_"] {
    padding-left: 22px;
    padding-right: 22px;
}

/* =========================================================
   CARDS
   ========================================================= */

[class*="cardContainer"] {
    margin-left: -20vh;
    margin-right: -20vh;
    padding-left: 20vh;
    padding-right: 20vh;
    scroll-padding: 20vh;
}

[class*="cardContainer"][class*="buttonContainer"] {
    transform: translateX(-150px);
}

[class*="_card_"] [class*="_imageContainer_"] {
    border-radius: 10px;
    overflow: hidden;
    transition: filter 0.6s ease-in-out, transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

[class*="cardContainer"] [class*="_imageContainer_"] {
    filter: var(--hover-inactive) !important;
}

[class*="_card_"] [class*="_imageContainer_"]:hover {
    filter: var(--hover-active) !important;
    transform: scale(1.03);
}

[data-test="horizontal-list--YOUR_FAVORITE_ARTISTS-scroll"] [class*="_imageContainer_"] {
    height: 300px;
}
[class*="_card_"] [class*="_imageContainer_"] [class*="round"] {
    border-radius: var(--market-core-radius-100);
}

div[class^="_overlay_"] {
    background: none;
}

/* =========================================================
   SEARCH PAGE
   ========================================================= */

[data-test*="search-results"] > [class*="container"]::before {
    padding-top: 65px;
    background-color: var(--bg-glass-light);
    backdrop-filter: var(--blur-glass);
    margin-left: -5%;
    margin-right: -5%;
    padding-left: 5%;
    border-bottom: var(--border);
    z-index: -1;
}

[class*="resultsContainer"] {
    padding: 10px;
}

[data-test*="search-results"] > [class*="container"] {
    background: transparent;
}

div[data-test="query-suggestions"] {
    margin-left: -110px;
    margin-top: 10px;
    height: calc(80vh - var(--miniPlayerHeight));
    background-color: var(--bg-solid);
    border: var(--border);
}

div[data-test="query-suggestions"] div[class*="_icon_"] {
    background: transparent;
}

/* =========================================================
   ARTIST PAGES
   ========================================================= */

[data-test="artist-profile-header"] [class*="background"] {
    width: 100vw;
}

[class*="_dataContainer_"] > div > div:nth-child(3) {
    border-radius: 10px;
    margin-left: -15px;
    padding: 15px;
    max-width: 50%;
    margin-bottom: 10px;
    border: var(--border);
    backdrop-filter: blur(7px);
}

[class*="backgroundBlur"] {
    display: none;
}

/* =========================================================
   FOOTER PLAYER
   ========================================================= */

[data-test="footer-player"] {
    position: fixed;
    left: 50%;
    transform: translateX(-50%);
    width: 98vw;
    height: 100px;
    bottom: 2vh;
    border-radius: 20px;
    background-color: var(--bg-glass-light) !important;
    backdrop-filter: var(--blur);
}

[data-test="footer-player"]::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: var(--border);
    border-bottom: none;
    border-radius: inherit;
    pointer-events: none;
}

[data-test="left-column-footer-player"],
[data-test="play-controls"],
[data-test="footer-player"] > div:last-child {
    z-index: 1;
}

[aria-label="Progress bar"] {
    position: fixed;
    top: -75px;
    width: 98vw;
    height: 100px;
}

[class*="_range_"] {
    background: transparent;
    border-radius: 20px;
}

[data-test="progress-indicator"] {
    background-color: rgba(255, 255, 255, 0.07);
}

[data-test="interaction-layer"] {
    height: 25px;
    transform: translateY(-115px);
    pointer-events: auto;
}

#progressBar > div > [class*="toolTip"] {
    bottom: 112px !important;
    scale: 1;
    overflow: visible;
    background-color: var(--bg-solid);
    color: white;
    border: var(--border);
    height: 25px;
}

[class*="_progress_"] > [data-test="current-time"] {
    position: absolute;
    margin-left: -45px;
    margin-top: 15px;
    color: var(--accent);
}

[class*="_progress_"] > [data-test="duration"] {
    position: absolute;
    margin-left: 47px;
    margin-top: 15px;
}

[data-test="left-column-footer-player"],
[class*="_leftColumn_"] {
    overflow: visible !important;
}

[class*="imageryContainer"] {
    height: 64px;
    margin-top: 4px;
    margin-left: 2px;
    border-radius: 8px;
    scale: 1.3;
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1);
}

[class*="currentMediaItemDetails"] {
    margin-left: 2px;
}

[class*="notFullscreenOverlay"],
[class*="imageryContainer"] [class*="imageBorder"] {
    display: none;
}

[class*="playbackControls"] {
    margin-top: 2px;
}

[data-test*="media-state"],
[aria-label="Shuffle"],
[aria-label="Repeat"],
[aria-label="Repeat one"],
[aria-label="Sound output"],
[aria-label="toggle now playing screen"] {
    border-radius: var(--market-core-radius-100);
}

button[aria-label="Play queue"] {
    height: 32px;
    border-radius: var(--market-core-radius-100);
}

[class*='_knob_'] {
    width: 10px;
    height: 10px;
    margin-left: -6px;
    margin-top: -2px;
    border-radius: 50%;
    box-shadow: none;
    background-color: var(--wave-color-solid-accent-fill);

}

[class*="nativeRangeContainer"] {
    border: var(--border);
    box-shadow: none;
    transform: translateY(-20px) scale(1.15);
}

[class*="nativeRangeContainer"]::after {
    display: none;
}

input[class*="_nativeRange"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    box-shadow: none;
    transform: translateY(1px);
    background-color: var(--accent);
}

/* =========================================================
   NOW PLAYING
   ========================================================= */

[class*="_nowPlayingContainer_"] {
    background-color: transparent;
    backdrop-filter: var(--blur-now-playing);
}

[data-test="now-playing"] {
    box-shadow: none;
    border: none;
}

[class*="_bottomGradient_"] {
    display: none;
}

[class*="_nativeRangeContainer_"] {
    transform: translateY(-20px) scale(1.2);
    background-color: var(--bg-solid);
    border: var(--border);
    box-shadow: none;
    overflow: hidden;
}

[class*="_nativeRange_"]::after {
    display: none;
}

/* Control Buttons */
button[data-test="close-now-playing"],
button[data-test="request-fullscreen"] {
    background-color: transparent;
    border: var(--border);
    transition: opacity 0.2s ease, transform 0.2s ease, background-color 0.2s ease;
}

button[data-test="close-now-playing"]:hover,
button[data-test="request-fullscreen"]:hover {
    background-color: var(--bg-button-hover);
}

[class*="artistBio"] {
    padding-bottom: 80px;
}

figure[data-test="now-playing-image"] {
    box-shadow: none;
}

/* =========================================================
   MENUS & TOOLTIPS
   ========================================================= */

/* Context Menu */
[class*="contextMenu"][role="menu"] {
    position: relative;
    background-color: transparent;
    border: var(--border);
    box-shadow: none;
}

[class*="contextMenu"][role="menu"]::before {
    content: "";
    position: absolute;
    inset: 0;
    background-color: var(--bg-glass-darker);
    backdrop-filter: var(--blur-glass);
    border-radius: inherit;
}

[class*="contextMenu"][role="menu"] > * {
    position: relative;
}

/* Submenus */
[class*="_subMenu_"] {
    position: relative;
    background-color: transparent;
    border: var(--border);
    box-shadow: none;
    overflow: hidden;
    z-index: 0;
}

[class*="_subMenu_"]::before {
    content: "";
    position: absolute;
    inset: 0;
    background-color: var(--bg-glass-dark);
    backdrop-filter: var(--blur-glass);
    border-radius: inherit;
    z-index: 0;
}

[class*="_subMenu_"] > * {
    position: relative;
    z-index: 1;
}

[role="menu"][class*="_submenu"] {
    background-color: var(--bg-solid);
    border: var(--border);
    box-shadow: none;
    z-index: 1;
}

[role="menu"][class*="_submenu"] > * {
    position: relative;
    z-index: 2;
}

/* Tooltips */
[class*="_marketTooltipContainer_"] {
    background-color: var(--bg-glass-dark);
    backdrop-filter: var(--blur-glass);
    border: var(--border);
    color: white;
}

[class*="_tooltipText_"] {
    background-color: transparent;
    backdrop-filter: var(--blur-glass);
    border: var(--border);
    color: white;
}

[class*="_tooltipText_"]::after,
[class*="_sidebarTooltip_"]::after {
    display: none;
}
